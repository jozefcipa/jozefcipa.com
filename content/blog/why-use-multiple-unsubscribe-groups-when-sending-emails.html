---
title: Why use multiple unsubscribe groups when sending emails
tags:
  - today-i-learned
date: '2022-06-27T17:09:56.605Z'
slug: why-use-multiple-unsubscribe-groups-when-sending-emails
summary: >-
  We all know how annoying all those emails that we receive from various websites might be,
  especially when we donâ€™t expect them. So naturally, there should be an option to unsubscribe.
  However there are some things that you have to be careful about.
draft: false
---

<article id="430360d3-3b1c-462d-ba7b-276277e80a9d" class="page sans"><div class="page-body"><figure id="34e6d0d1-7ce3-4ae5-b773-19c45bf9ba53" class="image"><a href="https://images.unsplash.com/photo-1596526131083-e8c633c948d2?ixlib=rb-1.2.1&amp;q=80&amp;cs=tinysrgb&amp;fm=jpg&amp;crop=entropy"><img src="https://images.unsplash.com/photo-1596526131083-e8c633c948d2?ixlib=rb-1.2.1&amp;q=80&amp;cs=tinysrgb&amp;fm=jpg&amp;crop=entropy"></a><figcaption>unsplash.com/@brett_jordan</figcaption></figure><p id="59aa08f4-9b08-447e-9a4d-f501af89790c" class="">We all know how annoying all those emails that we receive from various websites might be, especially when we donâ€™t expect them. So naturally, there should be an option to unsubscribe (itâ€™s even enforced by law in some countries). A few times, it happened that even though I clicked on the unsubscribe button, the emails were still coming. So apparently, either the website doesnâ€™t care about your opinion to opt out or something is not working correctly on their side. A different issue is if it works too well - what does it mean?</p><h2 id="c32651fd-371a-4515-b226-0becc573a90c" class="">Email types</h2><p id="1ddf65d4-622c-4da5-b1fc-7cb7c8a41744" class="">There are two types of emails that a website usually sends - <strong>transactional</strong> and <strong>marketing</strong> emails. The difference is simple: while marketing emails serve marketing purposes, such as newsletters, discounts or offers and so on, transactional emails tend to have a more important role. If you ever forgot your password and had to reset it, you most probably received an email with the reset link. If you order something cool, there is almost always a confirmation email arriving in your inbox. As you can see some emails are more important than others. Also, marketing emails must be optional, in other words, there must be a way for a receiver to stop receiving them.</p><h2 id="54216882-2ce2-4869-a769-110c94227052" class="">Sending emails</h2><p id="5d1c2c40-5c99-444c-9cf2-83c67b7cb5dc" class="">In order to send emails from your website, you must choose a service provider first. There are many you can choose from, such as <a href="https://aws.amazon.com/ses/">Amazon SES, </a><a href="https://www.mailgun.com/">Mailgun</a>, <strong><a href="https://sendgrid.com/">SendGrid</a></strong><strong> </strong>and others. They provide useful APIs and tools for you to send emails, track receivers and collect analytics, some of them even support creating marketing campaigns and more.</p><p id="6f8ac37e-e75c-41a6-8370-a819b75ed7d8" class="">But, no matter which provider you use, they will most probably have a concept of the <a href="https://docs.sendgrid.com/api-reference/suppressions-unsubscribe-groups"><strong>unsubscribe groups</strong></a>.</p><h2 id="55ffc8c2-37f5-41f5-b252-2b098a7d7da5" class="">The issue and the solution</h2><p id="261c1550-afe6-47f9-bdde-6a53947dbeb1" class=""><em>Even though it might all sound very obvious, I wouldnâ€™t be writing this post if there wasnâ€™t an issue in the past caused exactly by that.</em></p><p id="e9ad1531-b22a-423d-9a7a-1cddb07da097" class="">The problem we had on one of the projects was that some users were complaining that they didnâ€™t receive the email they were expecting, a password reset email in this case. Debugging this was a bit difficult as the issue was only experienced by a small group of people and it was hard to tell what they have in common. Finally, we found the culprit and guess what it was. The application used one unsubscribe group for all the emails. Therefore, as mentioned at the beginning of this post, if the user unsubscribed from some email in the past, they would no longer get the password reset email or any similar ðŸ˜¬.</p><p id="298c2f0c-b0ec-44c2-8705-b6d7e569b5bf" class="">This issue originated at the beginning of the project when one cannot know possible scenarios or ways the project will go in the future. Therefore there was only one default unsubscribe group used for all the emails. As the application was evolving and new email notifications were added, it could easily be overlooked to check if this one unsubscribe group is still enough or if more should be added.</p><p id="5b570fe2-991d-49df-b0c5-5170eaf26ce2" class="">The fix for that was easy and straightforward, we just had to create a new unsubscribe group (ASM in SendGrid) and use it for all transactional emails. Also for these types of emails, you donâ€™t have to (shouldnâ€™t) provide an unsubscribe link in the email body. This way your users can still unsubscribe from the marketing emails if they are not interested but they will still receive all important system emails ðŸ’¯.</p><p id="2c3b4bde-cf9e-4904-94c7-42572d9527dd" class="">
</p><figure id="0a03657e-15b6-4b82-9e0b-e9593eb1a3f1" class="image"><a href="https://assets.jozefcipa.com/blog/430360d33b1c462dba7b276277e80a9d/example.png"><img src="https://assets.jozefcipa.com/blog/430360d33b1c462dba7b276277e80a9d/example.png"></a><figcaption>Configure ASM group when sending email</figcaption></figure></div></article>
