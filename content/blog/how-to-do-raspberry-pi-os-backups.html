---
title: How to do Raspberry Pi OS backups
tags:
  - homelab
  - raspberrypi
date: '2025-07-30T13:03:44.254Z'
slug: how-to-do-raspberry-pi-os-backups
draft: false
---

<article id="23f77955-515e-809f-a385-ed358933a31b" class="page sans"><div class="page-body"><p id="24077955-515e-80a9-a16f-d67a6344da4e" class="">I recently got a Raspberry Pi Zero and started configuring it for a personal project. As I was setting everything up I realized how much time and effort I was investing. That’s when it hit me: microSD cards, which the Pi relies on for storage, aren't exactly known for their durability under heavy I/O. A sudden failure could mean losing everything. To avoid starting from scratch in the future, I decided to create a full backup of the system, including all configurations and data.</p><p id="24077955-515e-80c2-8375-e8eb528ba723" class="">I’ve never done this before so I did some research and it turns out it’s not that complicated at all. We will use a command-line utility <code>dd</code> that <strong>copies raw data</strong> from one place to another — typically block devices, files, or streams. It doesn’t care about filesystems or file structures — it just <strong>moves bytes</strong>.</p><p id="23f77955-515e-802b-97a0-e1770b9b727c" class="">In order to do so, first we need to locate our memory card in the system.</p><pre id="24077955-515e-80e6-8f8d-c4e1a04d761f" class="code"><code class="language-Shell">$ diskutil list</code></pre><p id="23f77955-515e-80d4-9105-dd334cfd27e3" class="">This command returns a list of volumes where we can find our SD card (in my case it’s <code>/dev/disk4</code>).</p><p id="24077955-515e-80a8-873f-c4d6f03c468e" class="">Next, we need to unmount the disk.</p><pre id="24077955-515e-809d-94ad-e9a6e685438d" class="code"><code class="language-Shell">$ diskutil unmountDisk /dev/rdisk4</code></pre><p id="24077955-515e-8075-a4c5-f19d7d6556a3" class="">Cool, now we can go ahead and use the <code>dd</code> command to copy the data from the microSD card to an <code>.img</code> file that will be our OS image. Notice I’m using the <code><strong>r</strong>disk4</code> which provides access to the raw data and thus the copying will be much faster.</p><pre id="23f77955-515e-8065-811f-f8ac3ec3ee26" class="code"><code class="language-Shell">sudo dd if=/dev/rdisk4 of=/tmp/raspi-backup.img bs=4m status=progress</code></pre><p id="23f77955-515e-80c2-9869-c3da06105c4b" class="">It will take some time to finish but once it’s done, you can check the size of the generated backup file.</p><pre id="23f77955-515e-8000-b2ed-f078cbb5d0a5" class="code"><code class="language-Shell"> $ du -h raspi-backup.img
 15G	raspi-backup.img</code></pre><p id="23f77955-515e-8058-bf58-c86498bec78a" class="">Considering that you use a 16GB microSD card, the image size will now <strong>match the size of the SD card</strong> even if the most of it is just empty blocks.</p><p id="24077955-515e-8016-8d9d-df2e1e700b09" class="">This is obviously not ideal, but luckily there are ways to optimize it. That’s why we will use the tool called <a href="https://github.com/Drewsif/PiShrink/">PiShrink</a>  to reduce the size of the image. (<em>If you’re on Mac Silicon like me, follow the steps described </em><em><a href="https://github.com/Drewsif/PiShrink/issues/326">here</a></em><em>, otherwise, the official docs should work</em>).</p><p id="23f77955-515e-802c-a534-f50e3260267c" class="">First we need to build an image (follow the steps in the project’s README) and then run </p><pre id="23f77955-515e-80e1-b26a-f7d13ff5239b" class="code"><code class="language-Shell">docker run --rm --platform linux/arm64 \
    --privileged -v "$PWD":/workdir \
    pishrink -zv raspi-backup.img raspi.shrink.img</code></pre><p id="23f77955-515e-8095-a152-ee6656f4187f" class="">PiShrink removes empty space from the image file and then it GZIP compresses the output file to reduce the size even more. Once it finishes, you should see something like this at the bottom of the logs.</p><pre id="23f77955-515e-803b-bd07-ff0a80655e65" class="code"><code class="language-Shell">...
pishrink: Shrunk raspi.shrink.img.gz from 15G to 1.1G</code></pre><p id="24077955-515e-8057-986a-e5b3db2a935d" class="">This is great! Now you can save your backup file somewhere and have it handy if needed in the future.</p><p id="24077955-515e-808f-a091-c9bd0b021f1f" class="">
</p><p id="23f77955-515e-805a-81c9-f1d01f299416" class="">However, as you could see this approach works well but the output image has the same size as the microSD card, so this solution might not be ideal for larger cards (64GB+) as it will be very memory inefficient.</p><p id="23f77955-515e-80fe-befd-fb72e4af2e08" class="">In that case you could try one of the following alternatives that sound promising, but I haven’t tried them personally.</p><ul type="1" id="23f77955-515e-808e-b24e-c5e0e7188ea9" class="numbered-list" start="1"><li>Use <code>partclone</code> or <code>fsarchiver</code> utilities to only copy the used filesystem blocks.</li></ul><ul type="1" id="23f77955-515e-809b-87b9-c7eecfec19a0" class="numbered-list" start="2"><li>Use <code>rsync</code> to only copy files and data. This might be very error-prone method as you will have to manually copy everything that you deem important. Also, it will only copy the files, not the entire OS, so it entails a lot of manual work, depending on the size of data that you have. </li></ul><ul type="1" id="23f77955-515e-80e9-a37b-fd000f272dd9" class="numbered-list" start="3"><li>Use <code>gparted</code> or <code>resize2fs</code> utility to shrink the root partition first. Then you can use <code>dd</code> as showed in this article. This could be the potential solution for the larger cards, as it allows you to only back up the actual data.</li></ul><p id="24077955-515e-8086-bcef-f5952b6e71a4" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span>